<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[RAID磁盘阵列]]></title>
    <url>%2F2018%2F12%2F26%2FRAID%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97%2F</url>
    <content type="text"><![CDATA[实验环境 实验一.磁盘阵列RAID101mdadm -Cv /dev/md0 -a yes -n 4 -l 10 /dev/sdb /dev/sdc /dev/sdd /dev/sde #代码解释 -C创建磁盘阵列 v显示过程 -a yes 自动创建设备文件 -n 设备数量 -l RAID级别 格式化磁盘阵列为ext4格式1mkfs.ext4 /dev/md #创建挂载点挂载磁盘阵列12mkdir /RAIDmount /dev/md0 /RAID #查看磁盘阵列详细信息123456789101112131415161718192021222324252627282930[root@localhost ~]# mdadm -D /dev/md0 /dev/md0: Version : 1.2 Creation Time : Wed Dec 26 03:22:26 2018 Raid Level : raid10 Array Size : 41910272 (39.97 GiB 42.92 GB) Used Dev Size : 20955136 (19.98 GiB 21.46 GB) Raid Devices : 4 Total Devices : 4 Persistence : Superblock is persistent Update Time : Wed Dec 26 03:28:49 2018 State : active Active Devices : 4Working Devices : 4 Failed Devices : 0 Spare Devices : 0 Layout : near=2 Chunk Size : 512K Name : localhost.localdomain:0 (local to host localhost.localdomain) UUID : 0b9f3d0a:8b626b8e:131f0128:1fa28ac3 Events : 18 Number Major Minor RaidDevice State 0 8 16 0 active sync set-A /dev/sdb 1 8 32 1 active sync set-B /dev/sdc 2 8 48 2 active sync set-A /dev/sdd 3 8 64 3 active sync set-B /dev/sde #写入fstab文件使其永久生效1echo "/dev/md0 /RAID ext4 defaults 0 0"&gt;&gt; /etc/fstab 损坏磁盘阵列修复（假设/dev/sde硬盘出现故障）1234567891011121314151617181920212223242526272829303132[root@localhost ~]# mdadm /dev/md0 -r /dev/sde #移除故障硬盘mdadm: hot removed /dev/sde from /dev/md0[root@localhost ~]# mdadm -D /dev/md0 /dev/md0: Version : 1.2 Creation Time : Wed Dec 26 03:22:26 2018 Raid Level : raid10 Array Size : 41910272 (39.97 GiB 42.92 GB) Used Dev Size : 20955136 (19.98 GiB 21.46 GB) Raid Devices : 4 Total Devices : 3 Persistence : Superblock is persistent Update Time : Wed Dec 26 03:36:44 2018 State : clean, degraded Active Devices : 3Working Devices : 3 Failed Devices : 0 Spare Devices : 0 Layout : near=2 Chunk Size : 512K Name : localhost.localdomain:0 (local to host localhost.localdomain) UUID : 0b9f3d0a:8b626b8e:131f0128:1fa28ac3 Events : 20 Number Major Minor RaidDevice State 0 8 16 0 active sync set-A /dev/sdb 1 8 32 1 active sync set-B /dev/sdc 2 8 48 2 active sync set-A /dev/sdd 6 0 0 6 removed #更换新硬盘123umount /RAIDmdadm /dev/md0 -a /dev/sdemount /dev/md0 /RAID 实验二.创建RAID5+备份盘1234567[root@localhost ~]# mdadm -Cv /dev/md1 -n 3 -l 5 -x 1 /dev/sdf /dev/sdg /dev/sdh /dev/sdi # -x 1表示只有一块备份盘 其中/dev/sdi为备份盘mdadm: layout defaults to left-symmetricmdadm: layout defaults to left-symmetricmdadm: chunk size defaults to 512Kmdadm: size set to 20955136Kmdadm: Defaulting to version 1.2 metadatamdadm: array /dev/md1 started. #将磁盘阵列格式化为ext4格式并挂载123mkfs.ext4 /dev/md1mkdir /RAID5mount /dev/md1 /RAID5 #测试磁盘阵列12345678910111213141516171819202122232425262728293031[root@localhost ~]# mdadm -D /dev/md1 /dev/md1: Version : 1.2 Creation Time : Wed Dec 26 03:47:57 2018 Raid Level : raid5 Array Size : 41910272 (39.97 GiB 42.92 GB) Used Dev Size : 20955136 (19.98 GiB 21.46 GB) Raid Devices : 3 Total Devices : 4 Persistence : Superblock is persistent Update Time : Wed Dec 26 03:58:57 2018 State : clean Active Devices : 3Working Devices : 4 Failed Devices : 0 Spare Devices : 1 Layout : left-symmetric Chunk Size : 512K Name : localhost.localdomain:1 (local to host localhost.localdomain) UUID : 4928d578:315c0579:7e5898c7:0ef21763 Events : 18 Number Major Minor RaidDevice State 0 8 80 0 active sync /dev/sdf 1 8 96 1 active sync /dev/sdg 4 8 112 2 active sync /dev/sdh 3 8 128 - spare /dev/sdi 模拟/dev/sdh硬盘出现故障1mdadm /dev/md1 -f /dev/sdh 查看磁盘阵列信息123456789101112131415161718192021222324252627282930313233[root@localhost ~]# mdadm -D /dev/md1/dev/md1: Version : 1.2 Creation Time : Wed Dec 26 03:47:57 2018 Raid Level : raid5 Array Size : 41910272 (39.97 GiB 42.92 GB) Used Dev Size : 20955136 (19.98 GiB 21.46 GB) Raid Devices : 3 Total Devices : 4 Persistence : Superblock is persistent Update Time : Wed Dec 26 04:04:48 2018 State : clean, degraded, recovering Active Devices : 2Working Devices : 3 Failed Devices : 1 Spare Devices : 1 Layout : left-symmetric Chunk Size : 512K Rebuild Status : 74% complete Name : localhost.localdomain:1 (local to host localhost.localdomain) UUID : 4928d578:315c0579:7e5898c7:0ef21763 Events : 31 Number Major Minor RaidDevice State 0 8 80 0 active sync /dev/sdf 1 8 96 1 active sync /dev/sdg 3 8 128 2 spare rebuilding /dev/sdi 4 8 112 - faulty /dev/sdh]]></content>
      <tags>
        <tag>RAID</tag>
        <tag>磁盘阵列</tag>
        <tag>数据安全</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[npm设置淘宝代理]]></title>
    <url>%2F2018%2F12%2F25%2Fnpm%E8%AE%BE%E7%BD%AE%E6%B7%98%E5%AE%9D%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[淘宝npm官网 原理更改npm源为淘宝源 1npm install -g cnpm --registry=https://registry.npm.taobao.org 使用方法和npm一致，只需要将npm改为cnpm即可。]]></content>
      <tags>
        <tag>npm</tag>
        <tag>cnmp</tag>
        <tag>淘宝代理</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo切换next主题]]></title>
    <url>%2F2018%2F12%2F25%2Fhexo%E5%88%87%E6%8D%A2next%E4%B8%BB%E9%A2%98%2F</url>
    <content type="text"><![CDATA[相关链接 安装hexo教程请点这里 更多hexo主题请点这里 Next主题中文文档 安装next主题1.克隆next主题 进入hexo目录 1cd hexo 克隆next主题到themes文件夹下并重命名为next 1git clone https://github.com/theme-next/hexo-theme-next.git themes/next 2.修改hexo配置文件1vim _config.yml 找到 theme: landscape 替换为theme: next 保存退出 3.编译，本地预览12hexo ghexo s 浏览器打开 http://localhost:4000/ 即可访问 优化next主题切换主题风格next主题共有4种风格Muse（默认）MistPiscesGemini本文以Mist为例 打开主题配置文件(hexo)目录下1vim themes/next/_config.yml 找到12345# Schemesscheme: Muse#scheme: Mist#scheme: Pisces#scheme: Gemini 替换为(想用哪个主题就取消注释，注释其他主题)12345# Schemes#scheme: Musescheme: Mist#scheme: Pisces#scheme: Gemini 菜单栏优化主题配置文件中有首页，关于，分类等多个选项，只要取消相关注释即可可以将菜单栏进行汉化如下图所示 新建tags,about页面主题默认是没有tags以及about页面，需要我们自己创建12hexo new page tagshexo new page about 分别执行命名后可以看到在source目录下创建了tags/index.md 以及 about/index.md其中about/index.md文件可以自由发挥tags/index.md需要按照以下格式进行修改，否则tags页面无法读取标签123456---title: tagsdate: 2018-12-24 19:34:56 #不用改type: "tags"comments: false--- 添加搜索功能 1.安装hexo-generator-searchdb 插件 无法安装点击这里 1npm install hexo-generator-searchdb --save 2.打开hexo配置文件 1vim _config.yml 3.在底端添加以下字段 保存退出 12345search: path: search.xml field: post format: html limit: 10000 4.打开主题配置文件 1vim themes/next/source/_config.yml 找到local search 修改 enable为true 如下图]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>主题，博客</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F12%2F24%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
  <entry>
    <title><![CDATA[centos部署hexo+github+next主题博客]]></title>
    <url>%2F2018%2F12%2F24%2Fcentos%E9%83%A8%E7%BD%B2hexo-github-next%E4%B8%BB%E9%A2%98%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[准备工作 系统环境centos7 用邮箱注册github帐号1.安装Node.js 下载进入node.js官网找到最新版本，复制下载链接，下面以11.5.0版本为例 1wget https://nodejs.org/dist/v11.5.0/node-v11.5.0-linux-x64.tar.xz 解压 1tar -xvJf node-v11.5.0-linux-x64.tar.xz #大写J 重命令文件夹并移动文件夹到/usr/local/node目录下 1mv node-v11.5.0-linux-x64.tar.xz /usr/local/node/node 配置环境变量 12echo "export PATH=$PATH:/usr/local/node/bin" &gt;&gt; /etc/profilesource /etc/profile 2.安装Hexo12345mkdir hexocd hexoyum install git-core #安装git，已安装可跳过npm install -g hexo-cli #安装Hexohexo init #初始化Hexo 3.安装Hexo插件 安装报错，安装慢请点击这里12345678910111213npm install hexo-generator-index --savenpm install hexo-generator-archive --savenpm install hexo-generator-category --savenpm install hexo-generator-tag --savenpm install hexo-server --savenpm install hexo-deployer-git --savenpm install hexo-deployer-heroku --savenpm install hexo-deployer-rsync --savenpm install hexo-deployer-openshift --savenpm install hexo-renderer-marked --savenpm install hexo-renderer-stylus --savenpm install hexo-generator-feed --savenpm install hexo-generator-sitemap --save 5.部署github 1.配置本机全局git环境，已配置可跳过12git config --global user.email "example@exp.com" #注册github的邮箱帐号git config --global user.name "username" #github用户名 2.生成ssh密钥 12ssh-keygen -t rsa -C example@exp.com #注册github的邮箱less ~/.ssh/id_rsa.pub #查看ssh公钥，并手动复制 3.创建仓库进入github官网登陆github帐号，创建一个仓库，仓库名称必须为： 用户名.github.io 4.添加ssh密钥到github点击链接https://github.com/settings/ssh 在key输入框粘贴刚才复制的ssh密钥，Title 随便填。 6.修改Hexo配置文件1vim _config.yml #按照以下代码修改文件底端,将username替换成自己的github用户名1234567# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: git@github.com:username/username.github.io.git branch: master message: '站点更新:&#123;&#123;now("YYYY-MM-DD HH/mm/ss")&#125;&#125;' 7.编译并上传代码到github仓库12hexo g #编译hexo d #上传 至此打开浏览器输入你的github仓库名就可访问到你的博客了。下一篇文章将会将如何切换主题以及主题优化]]></content>
      <tags>
        <tag>centos</tag>
        <tag>博客</tag>
        <tag>github</tag>
      </tags>
  </entry>
</search>
